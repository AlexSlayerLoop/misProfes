PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE profesores (
  id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  nombres TEXT NOT NULL,
  apellidos TEXT NOT NULL
) STRICT;
CREATE TABLE materias (
  clave TEXT NOT NULL PRIMARY KEY,
  nombre TEXT NOT NULL
) STRICT;
CREATE TABLE materias_profesores (
  id_profesor INTEGER NOT NULL,
  clave_materia TEXT NOT NULL,
  FOREIGN KEY (id_profesor) REFERENCES profesores(id),
  FOREIGN KEY (clave_materia) REFERENCES materias(clave)
) STRICT;
CREATE TABLE recomendaciones (
  id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  id_profesor INTEGER NOT NULL,
  clave_materia TEXT NOT NULL,
  comentario TEXT NOT NULL,
  calificacion INTEGER NOT NULL CHECK (calificacion >= 0 AND calificacion <= 10),
  facilidad INTEGER NOT NULL CHECK (facilidad >= 0 AND facilidad <= 10),
  FOREIGN KEY (id_profesor) REFERENCES profesores(id)
  FOREIGN KEY (clave_materia) REFERENCES materias(clave)
) STRICT;
CREATE TABLE etiquetas (
  id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  descripcion TEXT NOT NULL
) STRICT;
CREATE TABLE etiquetas_recomendaciones (
  id_etiqueta INTEGER NOT NULL,
  id_recomendacion INTEGER NOT NULL,
  FOREIGN KEY (id_etiqueta) REFERENCES etiquetas(id),
  FOREIGN KEY (id_recomendacion) REFERENCES recomendaciones(id)
) STRICT;

--Insertar etiquetas
INSERT INTO etiquetas (descripcion) VALUES
('CALIFICA DURO'),
('BARCO'),
('DA BUENA RETROALIMENTACIÓN'),
('MUCHAS TAREAS'),
('PREPÁRATE PARA LEER'),
('HACE EXÁMENES SORPRESA'),
('LA PARTICIPACIÓN IMPORTA'),
('ASISTENCIA OBLIGATORIA'),
('LAS CLASES SON LARGAS'),
('DA PUNTOS EXTRA'),
('POCOS EXÁMENES'),
('MUCHOS EXÁMENES'),
('ASPECTOS DE CALIFICACIÓN CLAROS'),
('BRINDA APOYO'),
('DEJA TRABAJOS LARGOS'),
('CLASES EXCELENTES'),
('LOS EXÁMENES SON DIFÍCILES'),
('MUCHOS PROYECTOS GRUPALES'),
('TOMARÍA SU CLASE OTRA VEZ'),
('EXPOSICIONES');

--Insertar materias y sus claves
INSERT INTO materias (clave, nombre) VALUES
('I5288', 'FUNDAMENTOS DE LA PROGRAMACIÓN'),
('I5247', 'LÓGICA MATEMÁTICA'),
('IG738', 'PRECÁLCULO'),
('IL340', 'FUNDAMENTOS DE FÍSICA'),
('IL342', 'INTRODUCCIÓN A LA INGENIERÍA'),
('IL341', 'ÉTICA Y LEGISLACIÓN'),
('IL352', 'PROGRAMACIÓN ESTRUCTURADA'),
('IL345', 'MATEMÁTICAS DISCRETAS'),
('IL344', 'CÁLCULO DIFERENCIAL E INTEGRAL'),
('IL343', 'MECÁNICA'),
('IL353', 'ADMINISTRACIÓN DE PROYECTOS TECNOLÓGICOS'),
('LT251', 'EXPRESIÓN ORAL Y ESCRITA'),
('I5289', 'PROGRAMACIÓN ORIENTADA A OBJETOS'),
('IB056', 'ÁLGEBRA LINEAL'),
('IL347', 'ECUACIONES DIFERENCIALES'),
('IL346', 'CIRCUITOS ELECTRÓNICOS Y ELECTROMAGNETISMO'),
('IL363', 'SISTEMAS DIGITALES'),
('IL349', 'ADMINISTRACIÓN'),
('IL357', 'TEORÍA DE LA COMPUTACIÓN'),
('IL370', 'SEMINARIO DE INTEGRACIÓN: DESARROLLO'),
('IL372', 'LABORATORIO ABIERTO: DISEÑO'),
('IL359', 'COMPILADORES'),
('IL368', 'SEGURIDAD EN LA INFORMACIÓN'),
('IL373', 'LABORATORIO ABIERTO: CONSTRUCCIÓN'),
('IL360', 'PROGRAMACIÓN PARALELA Y CONCURRENTE'),
('IL371', 'SEMINARIO DE INTEGRACIÓN COMUNICACIÓN'),
('IL374', 'LABORATORIO ABIERTO: PRUEBA'),
('IL378', 'ADMINISTRACIÓN DE REDES'),
('IL379', 'PROGRAMACIÓN DE APLICACIONES DE REDES'),
('IL380', 'INTERCONEXIÓN DE REDES'),
('IL375', 'PROGRAMACIÓN PARALELA Y EN TIEMPO REAL'),
('IL376', 'PROGRAMACIÓN DE SISTEMAS EMBEBIDOS'),
('IL377', 'PROGRAMACIÓN DE SISTEMAS AVANZADOS'),
('IL351', 'INNOVACIÓN Y TECNOLOGÍA'),
('IL367', 'INTERACCIÓN HUMANO COMPUTADORA'),
('CB224', 'INGENIERÍA DE SOFTWARE'),
('IL358', 'PROGRAMACIÓN DE BAJO NIVEL'),
('IL381', 'APRENDIZAJE MÁQUINA'),
('IL382', 'ALGORITMOS METAHEURÍSTICOS'),
('IL383', 'REDES NEURONALES ARTIFICIALES Y APRENDIZAJE PROFUNDO'),
('IL384', 'DISEÑO DE VIDEOJUEGOS'),
('IL385', 'PROGRAMACIÓN DE GRÁFICOS 3D'),
('IL386', 'VIDEOJUEGOS EN RED');

DELETE FROM sqlite_sequence;
COMMIT;
